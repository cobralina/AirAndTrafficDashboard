var Or=Object.defineProperty;var qr=(t,e,n)=>e in t?Or(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var be=(t,e,n)=>qr(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function at(){}function Gn(t){return t()}function ln(){return Object.create(null)}function Dt(t){t.forEach(Gn)}function Jn(t){return typeof t=="function"}function ft(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Zt;function cn(t,e){return t===e?!0:(Zt||(Zt=document.createElement("a")),Zt.href=e,t===Zt.href)}function Vr(t){return Object.keys(t).length===0}function w(t,e){t.appendChild(e)}function N(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function Xr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t){return document.createTextNode(t)}function H(){return X(" ")}function Wn(){return X("")}function Ne(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function C(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $r(t){return Array.from(t.childNodes)}function rt(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ce(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function fn(t,e,n){t.classList.toggle(e,!!n)}function Yr(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}let Ot;function Ut(t){Ot=t}function Ge(){if(!Ot)throw new Error("Function called outside component initialization");return Ot}function Qn(t){Ge().$$.on_mount.push(t)}function Zr(t){Ge().$$.on_destroy.push(t)}function Gr(){const t=Ge();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const a=Yr(e,n,{cancelable:r});return i.slice().forEach(o=>{o.call(t,a)}),!a.defaultPrevented}return!0}}const St=[],hn=[];let Nt=[];const dn=[],Jr=Promise.resolve();let He=!1;function Wr(){He||(He=!0,Jr.then(Kn))}function ze(t){Nt.push(t)}const ke=new Set;let It=0;function Kn(){if(It!==0)return;const t=Ot;do{try{for(;It<St.length;){const e=St[It];It++,Ut(e),Qr(e.$$)}}catch(e){throw St.length=0,It=0,e}for(Ut(null),St.length=0,It=0;hn.length;)hn.pop()();for(let e=0;e<Nt.length;e+=1){const n=Nt[e];ke.has(n)||(ke.add(n),n())}Nt.length=0}while(St.length);for(;dn.length;)dn.pop()();He=!1,ke.clear(),Ut(t)}function Qr(t){if(t.fragment!==null){t.update(),Dt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ze)}}function Kr(t){const e=[],n=[];Nt.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Nt=e}const jt=new Set;let _t;function jr(){_t={r:0,c:[],p:_t}}function ti(){_t.r||Dt(_t.c),_t=_t.p}function D(t,e){t&&t.i&&(jt.delete(t),t.i(e))}function L(t,e,n,r){if(t&&t.o){if(jt.has(t))return;jt.add(t),_t.c.push(()=>{jt.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function V(t){t&&t.c()}function O(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),ze(()=>{const a=t.$$.on_mount.map(Gn).filter(Jn);t.$$.on_destroy?t.$$.on_destroy.push(...a):Dt(a),t.$$.on_mount=[]}),i.forEach(ze)}function q(t,e){const n=t.$$;n.fragment!==null&&(Kr(n.after_update),Dt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ei(t,e){t.$$.dirty[0]===-1&&(St.push(t),Wr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ht(t,e,n,r,i,a,o=null,s=[-1]){const u=Ot;Ut(t);const l=t.$$={fragment:null,ctx:[],props:a,update:at,not_equal:i,bound:ln(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ln(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};o&&o(l.root);let c=!1;if(l.ctx=n?n(t,e.props||{},(f,h,...d)=>{const g=d.length?d[0]:h;return l.ctx&&i(l.ctx[f],l.ctx[f]=g)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](g),c&&ei(t,f)),h}):[],l.update(),c=!0,Dt(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const f=$r(e.target);l.fragment&&l.fragment.l(f),f.forEach(S)}else l.fragment&&l.fragment.c();e.intro&&D(t.$$.fragment),O(t,e.target,e.anchor),Kn()}Ut(u)}class dt{constructor(){be(this,"$$");be(this,"$$set")}$destroy(){q(this,1),this.$destroy=at}$on(e,n){if(!Jn(n))return at;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Vr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ni="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ni);function ri(t){let e,n,r,i,a,o,s,u,l,c,f,h,d,g,_,y,k,M,v,z,T,U,R,Y,J;return{c(){e=b("infobox"),n=b("vizheader"),r=b("h2"),i=X(t[4]),a=H(),o=b("button"),o.innerHTML='<img width="12px" height="12px" class="infoicon" src="img/close.svg" alt="Close-Icon"/>',s=H(),u=b("div"),l=H(),c=b("vizheader"),f=b("img"),d=H(),g=b("h2"),_=X(t[0]),y=H(),k=b("button"),k.innerHTML='<img class="infoicon" src="img/infoicon.svg" alt="Info-Icon"/>',M=H(),v=b("currenthead"),z=X(t[2]),T=H(),U=b("currentsub"),R=X(t[3]),C(o,"class","infoicon-button"),C(u,"class","infotext"),C(e,"id",t[0]),fn(e,"visible",t[6]),C(f,"class","vizicon"),cn(f.src,h="img/"+t[1])||C(f,"src",h),C(f,"alt",t[0]),C(k,"class","infoicon-button")},m(p,m){N(p,e,m),w(e,n),w(n,r),w(r,i),w(n,a),w(n,o),w(e,s),w(e,u),u.innerHTML=t[5],N(p,l,m),N(p,c,m),w(c,f),w(c,d),w(c,g),w(g,_),w(c,y),w(c,k),N(p,M,m),N(p,v,m),w(v,z),N(p,T,m),N(p,U,m),w(U,R),Y||(J=[Ne(o,"click",t[8]),Ne(k,"click",t[7])],Y=!0)},p(p,[m]){m&16&&rt(i,p[4]),m&32&&(u.innerHTML=p[5]),m&1&&C(e,"id",p[0]),m&64&&fn(e,"visible",p[6]),m&2&&!cn(f.src,h="img/"+p[1])&&C(f,"src",h),m&1&&C(f,"alt",p[0]),m&1&&rt(_,p[0]),m&4&&rt(z,p[2]),m&8&&rt(R,p[3])},i:at,o:at,d(p){p&&(S(e),S(l),S(c),S(M),S(v),S(T),S(U)),Y=!1,Dt(J)}}}function ii(t,e,n){let{chartHeadline:r=""}=e,{chartIcon:i=""}=e,{currentHeadline:a="Current"}=e,{currentSubline:o="Subline"}=e,{chartInfoHeadline:s="Headline Infotext"}=e,{chartInfoText:u="Lorem Ipsum"}=e,l;function c(){n(6,l=!l);let h=document.getElementById(r);h.style.animation="fadeIn 0.4s ease-in-out"}function f(){n(6,l=!l);let h=document.getElementById(r);h.style.animation="fadeOut 0.4s ease-in-out"}return t.$$set=h=>{"chartHeadline"in h&&n(0,r=h.chartHeadline),"chartIcon"in h&&n(1,i=h.chartIcon),"currentHeadline"in h&&n(2,a=h.currentHeadline),"currentSubline"in h&&n(3,o=h.currentSubline),"chartInfoHeadline"in h&&n(4,s=h.chartInfoHeadline),"chartInfoText"in h&&n(5,u=h.chartInfoText)},[r,i,a,o,s,u,l,c,f]}class ge extends dt{constructor(e){super(),ht(this,e,ii,ri,ft,{chartHeadline:0,chartIcon:1,currentHeadline:2,currentSubline:3,chartInfoHeadline:4,chartInfoText:5})}}function ai(t){let e,n,r,i,a,o,s,u,l,c,f,h;return e=new ge({props:{chartHeadline:t[0],chartIcon:t[1],currentHeadline:t[4],currentSubline:"",chartInfoText:t[2],chartInfoHeadline:t[3]}}),{c(){V(e.$$.fragment),n=H(),r=b("airviz"),r.innerHTML='<div class="multi-color-gradient"><div id="slider" class="slider-knob"></div></div>',i=H(),a=b("p"),o=b("b"),o.textContent="Verhaltensempfehlungen: ",s=b("br"),u=H(),l=X(t[5]),c=H(),f=b("credits"),f.innerHTML='<div class="aircaption">Quelle: Umweltbundesamt</div>'},m(d,g){O(e,d,g),N(d,n,g),N(d,r,g),N(d,i,g),N(d,a,g),w(a,o),w(a,s),w(a,u),w(a,l),N(d,c,g),N(d,f,g),h=!0},p(d,[g]){const _={};g&1&&(_.chartHeadline=d[0]),g&2&&(_.chartIcon=d[1]),g&16&&(_.currentHeadline=d[4]),g&4&&(_.chartInfoText=d[2]),g&8&&(_.chartInfoHeadline=d[3]),e.$set(_),(!h||g&32)&&rt(l,d[5])},i(d){h||(D(e.$$.fragment,d),h=!0)},o(d){L(e.$$.fragment,d),h=!1},d(d){d&&(S(n),S(r),S(i),S(a),S(c),S(f)),q(e,d)}}}function oi(t,e,n){let{chartdataUrl:r=""}=e,{chartHeadline:i=""}=e,{chartIcon:a=""}=e,{chartInfoText:o=""}=e,{chartInfoHeadline:s=""}=e;const u={1:"Sehr schlecht",2:"Schlecht",3:"Mäßig",4:"Gut",5:"Sehr gut"},l={1:"Negative gesundheitliche Auswirkungen können auftreten. Wer empfindlich ist oder vorgeschädigte Atemwege hat, sollte körperliche Anstrengungen im Freien vermeiden.",2:"Bei empfindlichen Menschen können nachteilige gesundheitliche Wirkungen auftreten. Diese sollten körperlich anstrengende Tätigkeiten im Freien vermeiden. In Kombination mit weiteren Luftschadstoffen können auch weniger empfindliche Menschen auf die Luftbelastung reagieren.",3:"Kurzfristige nachteilige Auswirkungen auf die Gesundheit sind unwahrscheinlich. Allerdings können Effekte durch Luftschadstoffkombinationen und bei langfristiger Einwirkung des Einzelstoffes nicht ausgeschlossen werden. Zusätzliche Reize können die Wirkung der Luftschadstoffe verstärken, insbesondere für empfindliche Personengruppen.",4:"Genießen Sie Ihre Aktivitäten im Freien, gesundheitlich nachteilige Wirkungen sind nicht zu erwarten.",5:"Beste Voraussetzungen, um sich ausgiebig im Freien aufzuhalten."};let c=1,f="",h="";return Qn(()=>{fetch(r).then(d=>d.json()).then(d=>{c=d.worst_index,document.getElementById("slider").style.left=(110-c*20).toString()+"%",n(4,f=u[c]),n(5,h=l[c])}).catch(d=>console.error("Fehler beim Abrufen der Daten:",d))}),t.$$set=d=>{"chartdataUrl"in d&&n(6,r=d.chartdataUrl),"chartHeadline"in d&&n(0,i=d.chartHeadline),"chartIcon"in d&&n(1,a=d.chartIcon),"chartInfoText"in d&&n(2,o=d.chartInfoText),"chartInfoHeadline"in d&&n(3,s=d.chartInfoHeadline)},[i,a,o,s,f,h,r]}class si extends dt{constructor(e){super(),ht(this,e,oi,ai,ft,{chartdataUrl:6,chartHeadline:0,chartIcon:1,chartInfoText:2,chartInfoHeadline:3})}}function te(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ui(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Je(t){let e,n,r;t.length!==2?(e=te,n=(s,u)=>te(t(s),u),r=(s,u)=>t(s)-u):(e=t===te||t===ui?t:li,n=t,r=t);function i(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const f=l+c>>>1;n(s[f],u)<0?l=f+1:c=f}while(l<c)}return l}function a(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const f=l+c>>>1;n(s[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(s,u,l=0,c=s.length){const f=i(s,u,l,c-1);return f>l&&r(s[f-1],u)>-r(s[f],u)?f-1:f}return{left:i,center:o,right:a}}function li(){return 0}function ci(t){return t===null?NaN:+t}const fi=Je(te),hi=fi.right;Je(ci).center;class gn extends Map{constructor(e,n=mi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mn(this,e))}has(e){return super.has(mn(this,e))}set(e,n){return super.set(di(this,e),n)}delete(e){return super.delete(gi(this,e))}}function mn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function di({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function gi({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function mi(t){return t!==null&&typeof t=="object"?t.valueOf():t}const pi=Math.sqrt(50),_i=Math.sqrt(10),wi=Math.sqrt(2);function ie(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=pi?10:a>=_i?5:a>=wi?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?ie(t,e,n*2):[s,u,l]}function yi(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?ie(e,t,n):ie(t,e,n);if(!(a>=i))return[];const s=a-i+1,u=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)u[l]=(a-l)/-o;else for(let l=0;l<s;++l)u[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(i+l)/-o;else for(let l=0;l<s;++l)u[l]=(i+l)*o;return u}function Ee(t,e,n){return e=+e,t=+t,n=+n,ie(t,e,n)[2]}function vi(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ee(e,t,n):Ee(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function pn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function xi(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function bi(t){return t}var Me=1,Ie=2,De=3,Lt=4,_n=1e-6;function ki(t){return"translate("+t+",0)"}function Mi(t){return"translate(0,"+t+")"}function Ii(t){return e=>+t(e)}function Ai(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Si(){return!this.__axis}function jn(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===Me||t===Lt?-1:1,c=t===Lt||t===Ie?"x":"y",f=t===Me||t===De?ki:Mi;function h(d){var g=r??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):bi),y=Math.max(a,0)+s,k=e.range(),M=+k[0]+u,v=+k[k.length-1]+u,z=(e.bandwidth?Ai:Ii)(e.copy(),u),T=d.selection?d.selection():d,U=T.selectAll(".domain").data([null]),R=T.selectAll(".tick").data(g,e).order(),Y=R.exit(),J=R.enter().append("g").attr("class","tick"),p=R.select("line"),m=R.select("text");U=U.merge(U.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(J),p=p.merge(J.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),m=m.merge(J.append("text").attr("fill","currentColor").attr(c,l*y).attr("dy",t===Me?"0em":t===De?"0.71em":"0.32em")),d!==T&&(U=U.transition(d),R=R.transition(d),p=p.transition(d),m=m.transition(d),Y=Y.transition(d).attr("opacity",_n).attr("transform",function(A){return isFinite(A=z(A))?f(A+u):this.getAttribute("transform")}),J.attr("opacity",_n).attr("transform",function(A){var I=this.parentNode.__axis;return f((I&&isFinite(I=I(A))?I:z(A))+u)})),Y.remove(),U.attr("d",t===Lt||t===Ie?o?"M"+l*o+","+M+"H"+u+"V"+v+"H"+l*o:"M"+u+","+M+"V"+v:o?"M"+M+","+l*o+"V"+u+"H"+v+"V"+l*o:"M"+M+","+u+"H"+v),R.attr("opacity",1).attr("transform",function(A){return f(z(A)+u)}),p.attr(c+"2",l*a),m.attr(c,l*y).text(_),T.filter(Si).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ie?"start":t===Lt?"end":"middle"),T.each(function(){this.__axis=z})}return h.scale=function(d){return arguments.length?(e=d,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=o=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(o=+d,h):o},h.tickPadding=function(d){return arguments.length?(s=+d,h):s},h.offset=function(d){return arguments.length?(u=+d,h):u},h}function wn(t){return jn(De,t)}function yn(t){return jn(Lt,t)}var Ti={value:()=>{}};function tr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ee(n)}function ee(t){this._=t}function Ni(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ee.prototype=tr.prototype={constructor:ee,on:function(t,e){var n=this._,r=Ni(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Ci(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=vn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=vn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ee(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Ci(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function vn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ti,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Re="http://www.w3.org/1999/xhtml";const xn={svg:"http://www.w3.org/2000/svg",xhtml:Re,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function me(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),xn.hasOwnProperty(e)?{space:xn[e],local:t}:t}function Hi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Re&&e.documentElement.namespaceURI===Re?e.createElement(t):e.createElementNS(n,t)}}function zi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function er(t){var e=me(t);return(e.local?zi:Hi)(e)}function Ei(){}function We(t){return t==null?Ei:function(){return this.querySelector(t)}}function Di(t){typeof t!="function"&&(t=We(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=a[c])&&(l=t.call(u,u.__data__,c,a))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new G(r,this._parents)}function Ri(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Li(){return[]}function nr(t){return t==null?Li:function(){return this.querySelectorAll(t)}}function Fi(t){return function(){return Ri(t.apply(this,arguments))}}function Pi(t){typeof t=="function"?t=Fi(t):t=nr(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),i.push(u));return new G(r,i)}function rr(t){return function(){return this.matches(t)}}function ir(t){return function(e){return e.matches(t)}}var Bi=Array.prototype.find;function Ui(t){return function(){return Bi.call(this.children,t)}}function Oi(){return this.firstElementChild}function qi(t){return this.select(t==null?Oi:Ui(typeof t=="function"?t:ir(t)))}var Vi=Array.prototype.filter;function Xi(){return Array.from(this.children)}function $i(t){return function(){return Vi.call(this.children,t)}}function Yi(t){return this.selectAll(t==null?Xi:$i(typeof t=="function"?t:ir(t)))}function Zi(t){typeof t!="function"&&(t=rr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new G(r,this._parents)}function ar(t){return new Array(t.length)}function Gi(){return new G(this._enter||this._groups.map(ar),this._parents)}function ae(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ae.prototype={constructor:ae,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ji(t){return function(){return t}}function Wi(t,e,n,r,i,a){for(var o=0,s,u=e.length,l=a.length;o<l;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new ae(t,a[o]);for(;o<u;++o)(s=e[o])&&(i[o]=s)}function Qi(t,e,n,r,i,a,o){var s,u,l=new Map,c=e.length,f=a.length,h=new Array(c),d;for(s=0;s<c;++s)(u=e[s])&&(h[s]=d=o.call(u,u.__data__,s,e)+"",l.has(d)?i[s]=u:l.set(d,u));for(s=0;s<f;++s)d=o.call(t,a[s],s,a)+"",(u=l.get(d))?(r[s]=u,u.__data__=a[s],l.delete(d)):n[s]=new ae(t,a[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(h[s])===u&&(i[s]=u)}function Ki(t){return t.__data__}function ji(t,e){if(!arguments.length)return Array.from(this,Ki);var n=e?Qi:Wi,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ji(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=ta(t.call(c,c&&c.__data__,l,r)),g=d.length,_=s[l]=new Array(g),y=o[l]=new Array(g),k=u[l]=new Array(h);n(c,f,_,y,k,d,e);for(var M=0,v=0,z,T;M<g;++M)if(z=_[M]){for(M>=v&&(v=M+1);!(T=y[v])&&++v<g;);z._next=T||null}}return o=new G(o,r),o._enter=s,o._exit=u,o}function ta(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ea(){return new G(this._exit||this._groups.map(ar),this._parents)}function na(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function ra(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,h=s[u]=new Array(f),d,g=0;g<f;++g)(d=l[g]||c[g])&&(h[g]=d);for(;u<i;++u)s[u]=n[u];return new G(s,this._parents)}function ia(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function aa(t){t||(t=oa);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(e)}return new G(i,this._parents).order()}function oa(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function sa(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ua(){return Array.from(this)}function la(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function ca(){let t=0;for(const e of this)++t;return t}function fa(){return!this.node()}function ha(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function da(t){return function(){this.removeAttribute(t)}}function ga(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ma(t,e){return function(){this.setAttribute(t,e)}}function pa(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _a(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wa(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ya(t,e){var n=me(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ga:da:typeof e=="function"?n.local?wa:_a:n.local?pa:ma)(n,e))}function or(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function va(t){return function(){this.style.removeProperty(t)}}function xa(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ba(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ka(t,e,n){return arguments.length>1?this.each((e==null?va:typeof e=="function"?ba:xa)(t,e,n??"")):Ht(this.node(),t)}function Ht(t,e){return t.style.getPropertyValue(e)||or(t).getComputedStyle(t,null).getPropertyValue(e)}function Ma(t){return function(){delete this[t]}}function Ia(t,e){return function(){this[t]=e}}function Aa(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Sa(t,e){return arguments.length>1?this.each((e==null?Ma:typeof e=="function"?Aa:Ia)(t,e)):this.node()[t]}function sr(t){return t.trim().split(/^|\s+/)}function Qe(t){return t.classList||new ur(t)}function ur(t){this._node=t,this._names=sr(t.getAttribute("class")||"")}ur.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function lr(t,e){for(var n=Qe(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function cr(t,e){for(var n=Qe(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ta(t){return function(){lr(this,t)}}function Na(t){return function(){cr(this,t)}}function Ca(t,e){return function(){(e.apply(this,arguments)?lr:cr)(this,t)}}function Ha(t,e){var n=sr(t+"");if(arguments.length<2){for(var r=Qe(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ca:e?Ta:Na)(n,e))}function za(){this.textContent=""}function Ea(t){return function(){this.textContent=t}}function Da(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ra(t){return arguments.length?this.each(t==null?za:(typeof t=="function"?Da:Ea)(t)):this.node().textContent}function La(){this.innerHTML=""}function Fa(t){return function(){this.innerHTML=t}}function Pa(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ba(t){return arguments.length?this.each(t==null?La:(typeof t=="function"?Pa:Fa)(t)):this.node().innerHTML}function Ua(){this.nextSibling&&this.parentNode.appendChild(this)}function Oa(){return this.each(Ua)}function qa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Va(){return this.each(qa)}function Xa(t){var e=typeof t=="function"?t:er(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function $a(){return null}function Ya(t,e){var n=typeof t=="function"?t:er(t),r=e==null?$a:typeof e=="function"?e:We(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Za(){var t=this.parentNode;t&&t.removeChild(this)}function Ga(){return this.each(Za)}function Ja(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wa(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qa(t){return this.select(t?Wa:Ja)}function Ka(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ja(t){return function(e){t.call(this,e,this.__data__)}}function to(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function eo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function no(t,e,n){return function(){var r=this.__on,i,a=ja(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function ro(t,e,n){var r=to(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?no:eo,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function fr(t,e,n){var r=or(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function io(t,e){return function(){return fr(this,t,e)}}function ao(t,e){return function(){return fr(this,t,e.apply(this,arguments))}}function oo(t,e){return this.each((typeof e=="function"?ao:io)(t,e))}function*so(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var hr=[null];function G(t,e){this._groups=t,this._parents=e}function $t(){return new G([[document.documentElement]],hr)}function uo(){return this}G.prototype=$t.prototype={constructor:G,select:Di,selectAll:Pi,selectChild:qi,selectChildren:Yi,filter:Zi,data:ji,enter:Gi,exit:ea,join:na,merge:ra,selection:uo,order:ia,sort:aa,call:sa,nodes:ua,node:la,size:ca,empty:fa,each:ha,attr:ya,style:ka,property:Sa,classed:Ha,text:Ra,html:Ba,raise:Oa,lower:Va,append:Xa,insert:Ya,remove:Ga,clone:Qa,datum:Ka,on:ro,dispatch:oo,[Symbol.iterator]:so};function Ae(t){return typeof t=="string"?new G([[document.querySelector(t)]],[document.documentElement]):new G([[t]],hr)}function lo(t){let e;for(;e=t.sourceEvent;)t=e;return t}function bn(t,e){if(t=lo(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Ke(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yt(){}var qt=.7,oe=1/qt,Ct="\\s*([+-]?\\d+)\\s*",Vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",it="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",co=/^#([0-9a-f]{3,8})$/,fo=new RegExp(`^rgb\\(${Ct},${Ct},${Ct}\\)$`),ho=new RegExp(`^rgb\\(${it},${it},${it}\\)$`),go=new RegExp(`^rgba\\(${Ct},${Ct},${Ct},${Vt}\\)$`),mo=new RegExp(`^rgba\\(${it},${it},${it},${Vt}\\)$`),po=new RegExp(`^hsl\\(${Vt},${it},${it}\\)$`),_o=new RegExp(`^hsla\\(${Vt},${it},${it},${Vt}\\)$`),kn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ke(Yt,vt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Mn,formatHex:Mn,formatHex8:wo,formatHsl:yo,formatRgb:In,toString:In});function Mn(){return this.rgb().formatHex()}function wo(){return this.rgb().formatHex8()}function yo(){return gr(this).formatHsl()}function In(){return this.rgb().formatRgb()}function vt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=co.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?An(e):n===3?new $(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fo.exec(t))?new $(e[1],e[2],e[3],1):(e=ho.exec(t))?new $(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=go.exec(t))?Gt(e[1],e[2],e[3],e[4]):(e=mo.exec(t))?Gt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=po.exec(t))?Nn(e[1],e[2]/100,e[3]/100,1):(e=_o.exec(t))?Nn(e[1],e[2]/100,e[3]/100,e[4]):kn.hasOwnProperty(t)?An(kn[t]):t==="transparent"?new $(NaN,NaN,NaN,0):null}function An(t){return new $(t>>16&255,t>>8&255,t&255,1)}function Gt(t,e,n,r){return r<=0&&(t=e=n=NaN),new $(t,e,n,r)}function vo(t){return t instanceof Yt||(t=vt(t)),t?(t=t.rgb(),new $(t.r,t.g,t.b,t.opacity)):new $}function Le(t,e,n,r){return arguments.length===1?vo(t):new $(t,e,n,r??1)}function $(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ke($,Le,dr(Yt,{brighter(t){return t=t==null?oe:Math.pow(oe,t),new $(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new $(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $(yt(this.r),yt(this.g),yt(this.b),se(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sn,formatHex:Sn,formatHex8:xo,formatRgb:Tn,toString:Tn}));function Sn(){return`#${wt(this.r)}${wt(this.g)}${wt(this.b)}`}function xo(){return`#${wt(this.r)}${wt(this.g)}${wt(this.b)}${wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tn(){const t=se(this.opacity);return`${t===1?"rgb(":"rgba("}${yt(this.r)}, ${yt(this.g)}, ${yt(this.b)}${t===1?")":`, ${t})`}`}function se(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wt(t){return t=yt(t),(t<16?"0":"")+t.toString(16)}function Nn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new tt(t,e,n,r)}function gr(t){if(t instanceof tt)return new tt(t.h,t.s,t.l,t.opacity);if(t instanceof Yt||(t=vt(t)),!t)return new tt;if(t instanceof tt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new tt(o,s,u,t.opacity)}function bo(t,e,n,r){return arguments.length===1?gr(t):new tt(t,e,n,r??1)}function tt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ke(tt,bo,dr(Yt,{brighter(t){return t=t==null?oe:Math.pow(oe,t),new tt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new tt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $(Se(t>=240?t-240:t+120,i,r),Se(t,i,r),Se(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new tt(Cn(this.h),Jt(this.s),Jt(this.l),se(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=se(this.opacity);return`${t===1?"hsl(":"hsla("}${Cn(this.h)}, ${Jt(this.s)*100}%, ${Jt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Cn(t){return t=(t||0)%360,t<0?t+360:t}function Jt(t){return Math.max(0,Math.min(1,t||0))}function Se(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const je=t=>()=>t;function ko(t,e){return function(n){return t+n*e}}function Mo(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Io(t){return(t=+t)==1?mr:function(e,n){return n-e?Mo(e,n,t):je(isNaN(e)?n:e)}}function mr(t,e){var n=e-t;return n?ko(t,n):je(isNaN(t)?e:t)}const ue=function t(e){var n=Io(e);function r(i,a){var o=n((i=Le(i)).r,(a=Le(a)).r),s=n(i.g,a.g),u=n(i.b,a.b),l=mr(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Ao(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function So(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function To(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=tn(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function No(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function j(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Co(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=tn(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Fe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Te=new RegExp(Fe.source,"g");function Ho(t){return function(){return t}}function zo(t){return function(e){return t(e)+""}}function pr(t,e){var n=Fe.lastIndex=Te.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(t=t+"",e=e+"";(r=Fe.exec(t))&&(i=Te.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:j(r,i)})),n=Te.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?zo(u[0].x):Ho(e):(e=u.length,function(l){for(var c=0,f;c<e;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}function tn(t,e){var n=typeof e,r;return e==null||n==="boolean"?je(e):(n==="number"?j:n==="string"?(r=vt(e))?(e=r,ue):pr:e instanceof vt?ue:e instanceof Date?No:So(e)?Ao:Array.isArray(e)?To:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Co:j)(t,e)}function Eo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Hn=180/Math.PI,Pe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _r(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Hn,skewX:Math.atan(u)*Hn,scaleX:o,scaleY:s}}var Wt;function Do(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Pe:_r(e.a,e.b,e.c,e.d,e.e,e.f)}function Ro(t){return t==null||(Wt||(Wt=document.createElementNS("http://www.w3.org/2000/svg","g")),Wt.setAttribute("transform",t),!(t=Wt.transform.baseVal.consolidate()))?Pe:(t=t.matrix,_r(t.a,t.b,t.c,t.d,t.e,t.f))}function wr(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function a(l,c,f,h,d,g){if(l!==f||c!==h){var _=d.push("translate(",null,e,null,n);g.push({i:_-4,x:j(l,f)},{i:_-2,x:j(c,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function o(l,c,f,h){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:j(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(l,c,f,h){l!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:j(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,h,d,g){if(l!==f||c!==h){var _=d.push(i(d)+"scale(",null,",",null,")");g.push({i:_-4,x:j(l,f)},{i:_-2,x:j(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(l,c){var f=[],h=[];return l=t(l),c=t(c),a(l.translateX,l.translateY,c.translateX,c.translateY,f,h),o(l.rotate,c.rotate,f,h),s(l.skewX,c.skewX,f,h),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,h),l=c=null,function(d){for(var g=-1,_=h.length,y;++g<_;)f[(y=h[g]).i]=y.x(d);return f.join("")}}}var Lo=wr(Do,"px, ","px)","deg)"),Fo=wr(Ro,", ",")",")"),zt=0,Ft=0,Rt=0,yr=1e3,le,Pt,ce=0,xt=0,pe=0,Xt=typeof performance=="object"&&performance.now?performance:Date,vr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function en(){return xt||(vr(Po),xt=Xt.now()+pe)}function Po(){xt=0}function fe(){this._call=this._time=this._next=null}fe.prototype=xr.prototype={constructor:fe,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?en():+n)+(e==null?0:+e),!this._next&&Pt!==this&&(Pt?Pt._next=this:le=this,Pt=this),this._call=t,this._time=n,Be()},stop:function(){this._call&&(this._call=null,this._time=1/0,Be())}};function xr(t,e,n){var r=new fe;return r.restart(t,e,n),r}function Bo(){en(),++zt;for(var t=le,e;t;)(e=xt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zt}function zn(){xt=(ce=Xt.now())+pe,zt=Ft=0;try{Bo()}finally{zt=0,Oo(),xt=0}}function Uo(){var t=Xt.now(),e=t-ce;e>yr&&(pe-=e,ce=t)}function Oo(){for(var t,e=le,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:le=n);Pt=t,Be(r)}function Be(t){if(!zt){Ft&&(Ft=clearTimeout(Ft));var e=t-xt;e>24?(t<1/0&&(Ft=setTimeout(zn,t-Xt.now()-pe)),Rt&&(Rt=clearInterval(Rt))):(Rt||(ce=Xt.now(),Rt=setInterval(Uo,yr)),zt=1,vr(zn))}}function En(t,e,n){var r=new fe;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var qo=tr("start","end","cancel","interrupt"),Vo=[],br=0,Dn=1,Ue=2,ne=3,Rn=4,Oe=5,re=6;function _e(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Xo(t,n,{name:e,index:r,group:i,on:qo,tween:Vo,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:br})}function nn(t,e){var n=et(t,e);if(n.state>br)throw new Error("too late; already scheduled");return n}function ot(t,e){var n=et(t,e);if(n.state>ne)throw new Error("too late; already running");return n}function et(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Xo(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=xr(a,0,n.time);function a(l){n.state=Dn,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,h,d;if(n.state!==Dn)return u();for(c in r)if(d=r[c],d.name===n.name){if(d.state===ne)return En(o);d.state===Rn?(d.state=re,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=re,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(En(function(){n.state===ne&&(n.state=Rn,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=Ue,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ue){for(n.state=ne,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Oe,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===Oe&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=re,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function $o(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Ue&&r.state<Oe,r.state=re,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function Yo(t){return this.each(function(){$o(this,t)})}function Zo(t,e){var n,r;return function(){var i=ot(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Go(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=ot(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function Jo(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=et(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Zo:Go)(n,t,e))}function rn(t,e,n){var r=t._id;return t.each(function(){var i=ot(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return et(i,r).value[e]}}function kr(t,e){var n;return(typeof e=="number"?j:e instanceof vt?ue:(n=vt(e))?(e=n,ue):pr)(t,e)}function Wo(t){return function(){this.removeAttribute(t)}}function Qo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ko(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function jo(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function ts(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function es(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function ns(t,e){var n=me(t),r=n==="transform"?Fo:kr;return this.attrTween(t,typeof e=="function"?(n.local?es:ts)(n,r,rn(this,"attr."+t,e)):e==null?(n.local?Qo:Wo)(n):(n.local?jo:Ko)(n,r,e))}function rs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function is(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function as(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&is(t,a)),n}return i._value=e,i}function os(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&rs(t,a)),n}return i._value=e,i}function ss(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=me(t);return this.tween(n,(r.local?as:os)(r,e))}function us(t,e){return function(){nn(this,t).delay=+e.apply(this,arguments)}}function ls(t,e){return e=+e,function(){nn(this,t).delay=e}}function cs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?us:ls)(e,t)):et(this.node(),e).delay}function fs(t,e){return function(){ot(this,t).duration=+e.apply(this,arguments)}}function hs(t,e){return e=+e,function(){ot(this,t).duration=e}}function ds(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fs:hs)(e,t)):et(this.node(),e).duration}function gs(t,e){if(typeof e!="function")throw new Error;return function(){ot(this,t).ease=e}}function ms(t){var e=this._id;return arguments.length?this.each(gs(e,t)):et(this.node(),e).ease}function ps(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ot(this,t).ease=n}}function _s(t){if(typeof t!="function")throw new Error;return this.each(ps(this._id,t))}function ws(t){typeof t!="function"&&(t=rr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new ct(r,this._parents,this._name,this._id)}function ys(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=e[s],l=n[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d)(h=u[d]||l[d])&&(f[d]=h);for(;s<r;++s)o[s]=e[s];return new ct(o,this._parents,this._name,this._id)}function vs(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function xs(t,e,n){var r,i,a=vs(e)?nn:ot;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function bs(t,e){var n=this._id;return arguments.length<2?et(this.node(),n).on.on(t):this.each(xs(n,t,e))}function ks(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ms(){return this.on("end.remove",ks(this._id))}function Is(t){var e=this._name,n=this._id;typeof t!="function"&&(t=We(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,f,h=0;h<u;++h)(c=s[h])&&(f=t.call(c,c.__data__,h,s))&&("__data__"in c&&(f.__data__=c.__data__),l[h]=f,_e(l[h],e,n,h,l,et(c,n)));return new ct(a,this._parents,e,n)}function As(t){var e=this._name,n=this._id;typeof t!="function"&&(t=nr(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var h=t.call(c,c.__data__,f,u),d,g=et(c,n),_=0,y=h.length;_<y;++_)(d=h[_])&&_e(d,e,n,_,h,g);a.push(h),o.push(c)}return new ct(a,o,e,n)}var Ss=$t.prototype.constructor;function Ts(){return new Ss(this._groups,this._parents)}function Ns(t,e){var n,r,i;return function(){var a=Ht(this,t),o=(this.style.removeProperty(t),Ht(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Mr(t){return function(){this.style.removeProperty(t)}}function Cs(t,e,n){var r,i=n+"",a;return function(){var o=Ht(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function Hs(t,e,n){var r,i,a;return function(){var o=Ht(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),Ht(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function zs(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var u=ot(this,t),l=u.on,c=u.value[a]==null?s||(s=Mr(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function Es(t,e,n){var r=(t+="")=="transform"?Lo:kr;return e==null?this.styleTween(t,Ns(t,r)).on("end.style."+t,Mr(t)):typeof e=="function"?this.styleTween(t,Hs(t,r,rn(this,"style."+t,e))).each(zs(this._id,t)):this.styleTween(t,Cs(t,r,e),n).on("end.style."+t,null)}function Ds(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Rs(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Ds(t,o,n)),r}return a._value=e,a}function Ls(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Rs(t,e,n??""))}function Fs(t){return function(){this.textContent=t}}function Ps(t){return function(){var e=t(this);this.textContent=e??""}}function Bs(t){return this.tween("text",typeof t=="function"?Ps(rn(this,"text",t)):Fs(t==null?"":t+""))}function Us(t){return function(e){this.textContent=t.call(this,e)}}function Os(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Us(i)),e}return r._value=t,r}function qs(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Os(t))}function Vs(){for(var t=this._name,e=this._id,n=Ir(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=et(u,e);_e(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ct(r,this._parents,t,n)}function Xs(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};n.each(function(){var l=ot(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),i===0&&a()})}var $s=0;function ct(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ir(){return++$s}var lt=$t.prototype;ct.prototype={constructor:ct,select:Is,selectAll:As,selectChild:lt.selectChild,selectChildren:lt.selectChildren,filter:ws,merge:ys,selection:Ts,transition:Vs,call:lt.call,nodes:lt.nodes,node:lt.node,size:lt.size,empty:lt.empty,each:lt.each,on:bs,attr:ns,attrTween:ss,style:Es,styleTween:Ls,text:Bs,textTween:qs,remove:Ms,tween:Jo,delay:cs,duration:ds,ease:ms,easeVarying:_s,end:Xs,[Symbol.iterator]:lt[Symbol.iterator]};function Ys(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Zs={time:null,delay:0,duration:250,ease:Ys};function Gs(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Js(t){var e,n;t instanceof ct?(e=t._id,t=t._name):(e=Ir(),(n=Zs).time=en(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&_e(u,t,e,l,o,n||Gs(u,e));return new ct(r,this._parents,t,e)}$t.prototype.interrupt=Yo;$t.prototype.transition=Js;const qe=Math.PI,Ve=2*qe,pt=1e-6,Ws=Ve-pt;function Ar(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Qs(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ar;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ks{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ar:Qs(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,u=r-e,l=i-n,c=o-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>pt)if(!(Math.abs(f*u-l*c)>pt)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,g=i-s,_=u*u+l*l,y=d*d+g*g,k=Math.sqrt(_),M=Math.sqrt(h),v=a*Math.tan((qe-Math.acos((_+h-y)/(2*k*M)))/2),z=v/M,T=v/k;Math.abs(z-1)>pt&&this._append`L${e+z*c},${n+z*f}`,this._append`A${a},${a},0,0,${+(f*d>c*g)},${this._x1=e+T*u},${this._y1=n+T*l}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),l=e+s,c=n+u,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>pt||Math.abs(this._y1-c)>pt)&&this._append`L${l},${c}`,r&&(h<0&&(h=h%Ve+Ve),h>Ws?this._append`A${r},${r},0,1,${f},${e-s},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:h>pt&&this._append`A${r},${r},0,${+(h>=qe)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function js(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function he(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Et(t){return t=he(Math.abs(t)),t?t[1]:NaN}function tu(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function eu(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var nu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function de(t){if(!(e=nu.exec(t)))throw new Error("invalid format: "+t);var e;return new an({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}de.prototype=an.prototype;function an(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}an.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ru(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Sr;function iu(t,e){var n=he(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Sr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+he(t,Math.max(0,e+a-1))[0]}function Ln(t,e){var n=he(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Fn={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:js,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ln(t*100,e),r:Ln,s:iu,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pn(t){return t}var Bn=Array.prototype.map,Un=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function au(t){var e=t.grouping===void 0||t.thousands===void 0?Pn:tu(Bn.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Pn:eu(Bn.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f){f=de(f);var h=f.fill,d=f.align,g=f.sign,_=f.symbol,y=f.zero,k=f.width,M=f.comma,v=f.precision,z=f.trim,T=f.type;T==="n"?(M=!0,T="g"):Fn[T]||(v===void 0&&(v=12),z=!0,T="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var U=_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",R=_==="$"?r:/[%p]/.test(T)?o:"",Y=Fn[T],J=/[defgprs%]/.test(T);v=v===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function p(m){var A=U,I=R,E,Q,F;if(T==="c")I=Y(m)+I,m="";else{m=+m;var P=m<0||1/m<0;if(m=isNaN(m)?u:Y(Math.abs(m),v),z&&(m=ru(m)),P&&+m==0&&g!=="+"&&(P=!1),A=(P?g==="("?g:s:g==="-"||g==="("?"":g)+A,I=(T==="s"?Un[8+Sr/3]:"")+I+(P&&g==="("?")":""),J){for(E=-1,Q=m.length;++E<Q;)if(F=m.charCodeAt(E),48>F||F>57){I=(F===46?i+m.slice(E+1):m.slice(E))+I,m=m.slice(0,E);break}}}M&&!y&&(m=e(m,1/0));var B=A.length+m.length+I.length,K=B<k?new Array(k-B+1).join(h):"";switch(M&&y&&(m=e(K+m,K.length?k-I.length:1/0),K=""),d){case"<":m=A+m+I+K;break;case"=":m=A+K+m+I;break;case"^":m=K.slice(0,B=K.length>>1)+A+m+I+K.slice(B);break;default:m=K+A+m+I;break}return a(m)}return p.toString=function(){return f+""},p}function c(f,h){var d=l((f=de(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Et(h)/3)))*3,_=Math.pow(10,-g),y=Un[8+g/3];return function(k){return d(_*k)+y}}return{format:l,formatPrefix:c}}var Qt,Tr,Nr;ou({thousands:",",grouping:[3],currency:["$",""]});function ou(t){return Qt=au(t),Tr=Qt.format,Nr=Qt.formatPrefix,Qt}function su(t){return Math.max(0,-Et(Math.abs(t)))}function uu(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Et(e)/3)))*3-Et(Math.abs(t)))}function lu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Et(e)-Et(t))+1}function on(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const On=Symbol("implicit");function Cr(){var t=new gn,e=[],n=[],r=On;function i(a){let o=t.get(a);if(o===void 0){if(r!==On)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new gn;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Cr(e,n).unknown(r)},on.apply(i,arguments),i}function Xe(){var t=Cr().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,u=0,l=0,c=.5;delete t.unknown;function f(){var h=e().length,d=i<r,g=d?i:r,_=d?r:i;a=(_-g)/Math.max(1,h-u+l*2),s&&(a=Math.floor(a)),g+=(_-g-a*(h-u))*c,o=a*(1-u),s&&(g=Math.round(g),o=Math.round(o));var y=xi(h).map(function(k){return g+a*k});return n(d?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(u=Math.min(1,l=+h),f()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},t.paddingOuter=function(h){return arguments.length?(l=+h,f()):l},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Xe(e(),[r,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},on.apply(f(),arguments)}function cu(t){return function(){return t}}function fu(t){return+t}var qn=[0,1];function Tt(t){return t}function $e(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:cu(isNaN(e)?NaN:.5)}function hu(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function du(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=$e(i,r),a=n(o,a)):(r=$e(r,i),a=n(a,o)),function(s){return a(r(s))}}function gu(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=$e(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var u=hi(t,s,1,r)-1;return a[u](i[u](s))}}function mu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pu(){var t=qn,e=qn,n=tn,r,i,a,o=Tt,s,u,l;function c(){var h=Math.min(t.length,e.length);return o!==Tt&&(o=hu(t[0],t[h-1])),s=h>2?gu:du,u=l=null,f}function f(h){return h==null||isNaN(h=+h)?a:(u||(u=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((l||(l=s(e,t.map(r),j)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,fu),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Eo,c()},f.clamp=function(h){return arguments.length?(o=h?!0:Tt,c()):o!==Tt},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return r=h,i=d,c()}}function _u(){return pu()(Tt,Tt)}function wu(t,e,n,r){var i=vi(t,e,n),a;switch(r=de(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=uu(i,o))&&(r.precision=a),Nr(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=lu(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=su(i))&&(r.precision=a-(r.type==="%")*2);break}}return Tr(r)}function yu(t){var e=t.domain;return t.ticks=function(n){var r=e();return yi(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return wu(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u,l,c=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);c-- >0;){if(l=Ee(o,s,n),l===u)return r[i]=o,r[a]=s,e(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function Hr(){var t=_u();return t.copy=function(){return mu(t,Hr())},on.apply(t,arguments),yu(t)}function At(t){return function(){return t}}function vu(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ks(e)}function xu(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zr(t){this._context=t}zr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bu(t){return new zr(t)}function ku(t){return t[0]}function Mu(t){return t[1]}function Iu(t,e){var n=At(!0),r=null,i=bu,a=null,o=vu(s);t=typeof t=="function"?t:t===void 0?ku:At(t),e=typeof e=="function"?e:e===void 0?Mu:At(e);function s(u){var l,c=(u=xu(u)).length,f,h=!1,d;for(r==null&&(a=i(d=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,l,u),+e(f,l,u));if(d)return a=null,d+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:At(+u),s):t},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:At(+u),s):e},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:At(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),s):r},s}function Er(t,e){this._context=t,this._t=e}Er.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Au(t){return new Er(t,.5)}function Bt(t,e,n){this.k=t,this.x=e,this.y=n}Bt.prototype={constructor:Bt,scale:function(t){return t===1?this:new Bt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Bt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Bt.prototype;function Su(t){let e,n,r,i,a,o,s,u,l,c,f,h=t[0].chartdataLegend+"",d,g,_;return{c(){e=b("trafficviz"),n=b("div"),r=H(),i=b("div"),a=b("div"),o=H(),s=b("credits"),s.textContent="Aktueller Wert",u=H(),l=b("div"),c=H(),f=b("credits"),d=X(h),g=H(),_=Xr("svg"),C(n,"class","tooltip"),C(n,"id",t[3]),C(a,"class","lbl-current"),Ce(a,"background-color",t[2]),C(l,"class","lbl-last"),C(i,"class","label"),C(_,"class","viz"),C(_,"id",t[1]),C(_,"width","100%"),C(_,"height","105px"),C(_,"color","#8e8e8e"),C(e,"id",t[4])},m(y,k){N(y,e,k),w(e,n),w(e,r),w(e,i),w(i,a),w(i,o),w(i,s),w(i,u),w(i,l),w(i,c),w(i,f),w(f,d),w(e,g),w(e,_)},p(y,[k]){k&4&&Ce(a,"background-color",y[2]),k&1&&h!==(h=y[0].chartdataLegend+"")&&rt(d,h),k&2&&C(_,"id",y[1])},i:at,o:at,d(y){y&&S(e)}}}function Vn(t){const e=Math.floor(t),n=Math.round((t-e)*60),r=n<10?"0"+n:n;return`${e}:${r}`}function Tu(t,e,n){let{chartdataConfig:r={chartdataUrl:"",chartdataKeys:[0,1,2],chartdataLegend:"Jahresdurchschnitt"}}=e,{vizcolorDefault:i="#C6ADE4"}=e,{vizcolorCurrent:a="#613399"}=e,{chartID:o="defaultchart"}=e,s=a,u=o+"-tooltip",l=o+"_viz",c,f,h,d;const g={top:10,right:10,bottom:17,left:40},_=Gr();let y,k,M,v,z;const T=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;T&&(s=i);function U(p,m){_("dataEvent",{current:p,compare:m})}function R(p,m,A){for(let I=p.length-1;I>=0;I--)if(p[I][m]!==0)return U(p[I][m],p[I][A]),I;return null}function Y(){let p=Ae(`#${o}`);c=p.node().getBoundingClientRect().width,f=p.node().getBoundingClientRect().height,h=c-g.left-g.right,d=f-g.top-g.bottom,p.attr("viewBox","0 0 "+c+" "+f),p.node().innerHTML="",J(p,y,k,M,v,z)}function J(p,m,A,I,E,Q){const F=Ae("#"+u).style("opacity",0);c=p.node().getBoundingClientRect().width,f=p.node().getBoundingClientRect().height,h=c-g.left-g.right,d=f-g.top-g.bottom;const P=p.append("g").attr("transform","translate("+g.left+","+g.top+")"),B=Xe().domain(m.map(x=>x[A])).range([0,h]).padding(.4),K=pn(m,x=>x[I]),Rr=pn(m,x=>x[E]),Lr=Math.max(K,Rr),st=Hr().domain([0,Lr]).nice().range([d,0]),Fr=m.length;let we=P.append("g").attr("transform","translate(0,"+d+")");Fr>=10?we.call(wn(B).tickValues([0,3,6,9,12,15,18,21,24])):we.call(wn(B)),we.call(x=>x.selectAll(".tick line").remove()).call(x=>x.select(".domain").remove()),P.append("g").call(yn(st).ticks(4)).call(x=>x.selectAll(".tick line").remove()).call(x=>x.select(".domain").remove()).selectAll(".tick text").text(x=>x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")),P.append("g").attr("class","grid").call(yn(st).ticks(4).tickSize(-h).tickFormat("")).selectAll(".tick line").attr("stroke","#e0e0e0"),P.selectAll(".bar").data(m).enter().append("rect").attr("class","bar").attr("fill",(x,Z)=>{const W=Z===Q?a:i;return T?W===a?i:a:W}).attr("x",x=>B(x[A])).attr("y",x=>st(x[I])).attr("width",B.bandwidth()).attr("height",x=>d-st(x[I])),P.append("g").attr("class","tooltip-area").selectAll(".bar").data(m).enter().append("rect").attr("class","tooltipbar").attr("fill","#ffffff").attr("x",x=>B(x[A])).attr("y",x=>st(x[I])).attr("width",B.bandwidth()).attr("height",d).attr("style","opacity:0").on("mouseover",function(x,Z){F.transition().duration(200).style("opacity",.9);const W=p.node().getBoundingClientRect(),bt=W.top+window.scrollY,gt=W.left+window.scrollX,mt=x.pageY-bt,kt=x.pageX-gt;F.style("left",kt+55+"px").style("top",mt+150+"px");let ut=Z[E],nt=Z[I];Z[E]<20?(ut=Vn(Z[E])+" Min.",nt=Vn(Z[I])+" Min."):(ut=ut.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),nt=nt.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")),r.chartdataUrl.includes("bikes")?F.html(`${Z[A]}<br/><span class="lastvalue">${ut}</span><br/><span style="color:`+s+`">${nt}</span>`):F.html(`${Z[A]}:00 Uhr<br/><span class="lastvalue">${ut}</span><br/><span style="color:`+s+`">${nt}</span>`);const[Mt]=bn(x,this),xe=un(Mt-g.left);ye.attr("x1",Mt+20).attr("x2",Mt+20).style("pointer-events","none").attr("opacity",1),ve.attr("cx",Mt+B.bandwidth()/2+5).attr("cy",xe+g.bottom/2).attr("opacity",.8)}).on("mousemove touchmove",function(x,Z){const[W]=bn(x,this),bt=un(W),gt=p.node().getBoundingClientRect(),mt=gt.top+window.scrollY,kt=gt.left+window.scrollX,ut=x.pageY-mt,nt=x.pageX-kt;F.style("left",nt+55+"px").style("top",ut+150+"px"),ye.attr("x1",W).attr("x2",W),ve.attr("cx",W).attr("cy",bt+g.bottom/2)}).on("mouseout",function(x){F.transition().duration(500).style("opacity",0),ye.attr("opacity",0),ve.attr("opacity",0)});const Pr=Xe().domain(m.map(x=>x[A])).range([0,h+15]).padding(.4),Br=Iu().x(x=>Pr(x[A])).y(x=>st(x[E])).curve(Au),Ur=m.filter(x=>x[E]>0);P.append("g").attr("id","lastyearline").append("path").datum(Ur).attr("class","line").attr("fill","none").attr("stroke","#717171").attr("stroke-width",1.5).attr("d",Br);const ye=P.append("line").attr("class","vertical-line").attr("y1",0).attr("y2",f).attr("stroke","#e3e3e3").attr("stroke-width",1).attr("opacity",0),ve=P.append("circle").attr("class","circle").attr("r",5).attr("fill","#fff").attr("stroke","#E3E3E3").attr("stroke-width",3).attr("opacity",0).attr("transform",`translate(0,-${g.top})`),un=x=>{const Z=x,W=Je(xe=>B(xe[A])+B.bandwidth()/2).left,bt=W(m,Z,1),gt=m[bt-1],mt=m[bt];if(!mt)return st(gt[E]);const kt=B(gt[A]),ut=B(mt[A]),nt=st(gt[E]),Mt=st(mt[E]);return nt+(Mt-nt)*((Z-kt)/(ut-kt))}}return Qn(()=>{window.addEventListener("resize",Y);let p=Ae("#"+o);c=p.node().getBoundingClientRect().width,f=p.node().getBoundingClientRect().height,p.attr("viewBox","0 0 "+c+" "+f),fetch(r.chartdataUrl).then(m=>m.json()).then(m=>{const A=m[0][0];let I=0;if(y=m[0].slice(1).map(E=>{let Q={};return A.forEach((F,P)=>{P===0&&!r.chartdataUrl.includes("bikes")?Q[F]=I++:Q[F]=E[P]}),Q}),I<=24&&!r.chartdataUrl.includes("bikes")){let E={};A.forEach((Q,F)=>{F===0?E[Q]=24:E[Q]=0}),y.push(E)}k=Object.keys(y[0])[r.chartdataKeys[0]],M=Object.keys(y[0])[r.chartdataKeys[1]],v=Object.keys(y[0])[r.chartdataKeys[2]],z=R(y,M,v),J(p,y,k,M,v,z)}).catch(m=>console.error("Fehler beim Abrufen der Daten:",m))}),Zr(()=>{window.removeEventListener("resize",Y)}),t.$$set=p=>{"chartdataConfig"in p&&n(0,r=p.chartdataConfig),"vizcolorDefault"in p&&n(5,i=p.vizcolorDefault),"vizcolorCurrent"in p&&n(6,a=p.vizcolorCurrent),"chartID"in p&&n(1,o=p.chartID)},[r,o,s,u,l,i,a]}class sn extends dt{constructor(e){super(),ht(this,e,Tu,Su,ft,{chartdataConfig:0,vizcolorDefault:5,vizcolorCurrent:6,chartID:1})}}function Nu(t){let e,n,r,i,a,o;return e=new ge({props:{chartHeadline:t[0],chartIcon:t[1],currentHeadline:t[5],currentSubline:t[6],chartInfoHeadline:t[3],chartInfoText:t[2]}}),r=new sn({props:{chartdataConfig:t[4],chartID:"bikechart",vizcolorCurrent:"#613399",vizcolorDefault:"#C6ADE4"}}),r.$on("dataEvent",t[7]),{c(){V(e.$$.fragment),n=H(),V(r.$$.fragment),i=H(),a=b("credits"),a.textContent="Quelle: Hessen Mobil"},m(s,u){O(e,s,u),N(s,n,u),O(r,s,u),N(s,i,u),N(s,a,u),o=!0},p(s,[u]){const l={};u&1&&(l.chartHeadline=s[0]),u&2&&(l.chartIcon=s[1]),u&32&&(l.currentHeadline=s[5]),u&64&&(l.currentSubline=s[6]),u&8&&(l.chartInfoHeadline=s[3]),u&4&&(l.chartInfoText=s[2]),e.$set(l);const c={};u&16&&(c.chartdataConfig=s[4]),r.$set(c)},i(s){o||(D(e.$$.fragment,s),D(r.$$.fragment,s),o=!0)},o(s){L(e.$$.fragment,s),L(r.$$.fragment,s),o=!1},d(s){s&&(S(n),S(i),S(a)),q(e,s),q(r,s)}}}function Cu(t,e,n){let{chartHeadline:r=""}=e,{chartIcon:i=""}=e,{chartInfoText:a=""}=e,{chartInfoHeadline:o=""}=e,{dataConfig:s={chartdataUrl:"",chartdataKeys:[0,0,0],chartdataLegend:"Vorjahreswert"}}=e,u="",l="";function c(f){const{current:h,compare:d}=f.detail;let g=0;n(5,u=h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" Radfahrer"),h>d?(g=Math.round((h-d)/h*100),n(6,l="Es ist "+g+" % mehr los, als letztes Jahr zu dieser Zeit.")):h<d?(g=Math.round((d-h)/d*100),n(6,l="Es ist "+g+" % weniger los, als letztes Jahr zu dieser Zeit.")):n(6,l="")}return t.$$set=f=>{"chartHeadline"in f&&n(0,r=f.chartHeadline),"chartIcon"in f&&n(1,i=f.chartIcon),"chartInfoText"in f&&n(2,a=f.chartInfoText),"chartInfoHeadline"in f&&n(3,o=f.chartInfoHeadline),"dataConfig"in f&&n(4,s=f.dataConfig)},[r,i,a,o,s,u,l,c]}class Hu extends dt{constructor(e){super(),ht(this,e,Cu,Nu,ft,{chartHeadline:0,chartIcon:1,chartInfoText:2,chartInfoHeadline:3,dataConfig:4})}}function zu(t){let e,n,r,i,a,o;return e=new ge({props:{chartHeadline:t[0],chartIcon:t[1],currentHeadline:t[5],currentSubline:t[6],chartInfoHeadline:t[3],chartInfoText:t[2]}}),r=new sn({props:{chartdataConfig:t[4],chartID:"carchart",vizcolorCurrent:"#C24E0A",vizcolorDefault:"#F8AE84"}}),r.$on("dataEvent",t[7]),{c(){V(e.$$.fragment),n=H(),V(r.$$.fragment),i=H(),a=b("credits"),a.textContent="Quelle: TomTom"},m(s,u){O(e,s,u),N(s,n,u),O(r,s,u),N(s,i,u),N(s,a,u),o=!0},p(s,[u]){const l={};u&1&&(l.chartHeadline=s[0]),u&2&&(l.chartIcon=s[1]),u&32&&(l.currentHeadline=s[5]),u&64&&(l.currentSubline=s[6]),u&8&&(l.chartInfoHeadline=s[3]),u&4&&(l.chartInfoText=s[2]),e.$set(l);const c={};u&16&&(c.chartdataConfig=s[4]),r.$set(c)},i(s){o||(D(e.$$.fragment,s),D(r.$$.fragment,s),o=!0)},o(s){L(e.$$.fragment,s),L(r.$$.fragment,s),o=!1},d(s){s&&(S(n),S(i),S(a)),q(e,s),q(r,s)}}}function Kt(t){const e=Math.floor(t),n=Math.round((t-e)*60),r=n<10?"0"+n:n;return`${e}:${r}`}function Eu(t,e,n){let{chartHeadline:r=""}=e,{chartIcon:i=""}=e,{chartInfoText:a=""}=e,{chartInfoHeadline:o=""}=e,{dataConfig:s={chartdataUrl:"",chartdataKeys:[0,0,0],chartdataLegend:"Jahresdurchschnittswert"}}=e,u="",l="";function c(f){const{current:h,compare:d}=f.detail;let g=Kt(0);n(5,u=Kt(h)+" Minuten für 10 km"),h>d?(g=Kt(h-d),n(6,l="Sie brauchen durchschnittlich "+g+" Minuten länger.")):h<d?(g=Kt(d-h),n(6,l="Sie brauchen durchschnittlich "+g+" Minuten kürzer.")):n(6,l="Sie brauchen genauso lang wie gewöhnlich zu dieser Zeit.")}return t.$$set=f=>{"chartHeadline"in f&&n(0,r=f.chartHeadline),"chartIcon"in f&&n(1,i=f.chartIcon),"chartInfoText"in f&&n(2,a=f.chartInfoText),"chartInfoHeadline"in f&&n(3,o=f.chartInfoHeadline),"dataConfig"in f&&n(4,s=f.dataConfig)},[r,i,a,o,s,u,l,c]}class Du extends dt{constructor(e){super(),ht(this,e,Eu,zu,ft,{chartHeadline:0,chartIcon:1,chartInfoText:2,chartInfoHeadline:3,dataConfig:4})}}function Ru(t){let e,n,r,i,a,o;return e=new ge({props:{chartHeadline:t[0],chartIcon:t[1],currentHeadline:t[5],currentSubline:t[6],chartInfoHeadline:t[3],chartInfoText:t[2]}}),r=new sn({props:{chartdataConfig:t[4],chartID:"pedchart",vizcolorCurrent:"#548A42",vizcolorDefault:"#BFDCB6"}}),r.$on("dataEvent",t[7]),{c(){V(e.$$.fragment),n=H(),V(r.$$.fragment),i=H(),a=b("credits"),a.textContent="Quelle: hystreet"},m(s,u){O(e,s,u),N(s,n,u),O(r,s,u),N(s,i,u),N(s,a,u),o=!0},p(s,[u]){const l={};u&1&&(l.chartHeadline=s[0]),u&2&&(l.chartIcon=s[1]),u&32&&(l.currentHeadline=s[5]),u&64&&(l.currentSubline=s[6]),u&8&&(l.chartInfoHeadline=s[3]),u&4&&(l.chartInfoText=s[2]),e.$set(l);const c={};u&16&&(c.chartdataConfig=s[4]),r.$set(c)},i(s){o||(D(e.$$.fragment,s),D(r.$$.fragment,s),o=!0)},o(s){L(e.$$.fragment,s),L(r.$$.fragment,s),o=!1},d(s){s&&(S(n),S(i),S(a)),q(e,s),q(r,s)}}}function Lu(t,e,n){let{chartHeadline:r=""}=e,{chartIcon:i=""}=e,{chartInfoText:a=""}=e,{chartInfoHeadline:o=""}=e,{dataConfig:s={chartdataUrl:"",chartdataKeys:[0,0,0],chartdataLegend:"Jahresdurchschnittswert"}}=e,u="",l="";function c(f){const{current:h,compare:d}=f.detail;let g=0;n(5,u=h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" Passanten"),h>d?(g=Math.round((h-d)/h*100),n(6,l="Es ist "+g+" % mehr los, als sonst an diesem Tag.")):h<d?(g=Math.round((d-h)/d*100),n(6,l="Es ist "+g+" % weniger los, als sonst an diesem Tag.")):n(6,l="")}return t.$$set=f=>{"chartHeadline"in f&&n(0,r=f.chartHeadline),"chartIcon"in f&&n(1,i=f.chartIcon),"chartInfoText"in f&&n(2,a=f.chartInfoText),"chartInfoHeadline"in f&&n(3,o=f.chartInfoHeadline),"dataConfig"in f&&n(4,s=f.dataConfig)},[r,i,a,o,s,u,l,c]}class Fu extends dt{constructor(e){super(),ht(this,e,Lu,Ru,ft,{chartHeadline:0,chartIcon:1,chartInfoText:2,chartInfoHeadline:3,dataConfig:4})}}function Xn(t){let e,n,r,i,a,o,s;return{c(){e=b("div"),n=b("h1"),r=X(t[0]),i=H(),a=b("h2"),o=X("Zuletzt aktualisiert: "),s=X(t[2]),C(e,"class","header")},m(u,l){N(u,e,l),w(e,n),w(n,r),w(e,i),w(e,a),w(a,o),w(a,s)},p(u,l){l&1&&rt(r,u[0]),l&4&&rt(s,u[2])},d(u){u&&S(e)}}}function $n(t){let e,n,r;return{c(){e=b("div"),n=X("Zuletzt aktualisiert: "),r=X(t[2]),Ce(e,"color","var(--mm-grey-400)")},m(i,a){N(i,e,a),w(e,n),w(e,r)},p(i,a){a&4&&rt(r,i[2])},d(i){i&&S(e)}}}function Pu(t){let e,n,r=t[1]=="faznet"&&Xn(t),i=t[1]=="story"&&$n(t);return{c(){r&&r.c(),e=H(),i&&i.c(),n=Wn()},m(a,o){r&&r.m(a,o),N(a,e,o),i&&i.m(a,o),N(a,n,o)},p(a,[o]){a[1]=="faznet"?r?r.p(a,o):(r=Xn(a),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),a[1]=="story"?i?i.p(a,o):(i=$n(a),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},i:at,o:at,d(a){a&&(S(e),S(n)),r&&r.d(a),i&&i.d(a)}}}function Bu(t,e,n){let{dataUrl:r=""}=e,{appHeadline:i=""}=e,{mode:a="faznet"}=e,o="",s="";const u=["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"];fetch(r).then(c=>c.json()).then(c=>{o=c.Date;let f=new Date(o);n(2,s=l(f))});function l(c){const f=c.getDate(),h=u[c.getMonth()],d=c.getFullYear();let g=c.getHours(),_=c.getMinutes();return g=g<10?"0"+g:g,_=_<10?"0"+_:_,`${f}. ${h} ${d}, ${g}:${_} Uhr`}return t.$$set=c=>{"dataUrl"in c&&n(3,r=c.dataUrl),"appHeadline"in c&&n(0,i=c.appHeadline),"mode"in c&&n(1,a=c.mode)},[i,a,s,r]}class Dr extends dt{constructor(e){super(),ht(this,e,Bu,Pu,ft,{dataUrl:3,appHeadline:0,mode:1})}}function Yn(t){let e,n,r,i,a;return{c(){e=b("div"),n=b("button"),r=X(t[0]),C(n,"class","btn_teritary"),C(e,"class","footer")},m(o,s){N(o,e,s),w(e,n),w(n,r),i||(a=Ne(n,"click",t[3]),i=!0)},p(o,s){s&1&&rt(r,o[0])},d(o){o&&S(e),i=!1,a()}}}function Zn(t){let e,n;return e=new Dr({props:{dataUrl:t[2],appHeadline:"",mode:t[1]}}),{c(){V(e.$$.fragment)},m(r,i){O(e,r,i),n=!0},p(r,i){const a={};i&4&&(a.dataUrl=r[2]),i&2&&(a.mode=r[1]),e.$set(a)},i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function Uu(t){let e,n,r,i=t[1]=="faznet"&&Yn(t),a=t[1]=="story"&&Zn(t);return{c(){i&&i.c(),e=H(),a&&a.c(),n=Wn()},m(o,s){i&&i.m(o,s),N(o,e,s),a&&a.m(o,s),N(o,n,s),r=!0},p(o,[s]){o[1]=="faznet"?i?i.p(o,s):(i=Yn(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),o[1]=="story"?a?(a.p(o,s),s&2&&D(a,1)):(a=Zn(o),a.c(),D(a,1),a.m(n.parentNode,n)):a&&(jr(),L(a,1,1,()=>{a=null}),ti())},i(o){r||(D(a),r=!0)},o(o){L(a),r=!1},d(o){o&&(S(e),S(n)),i&&i.d(o),a&&a.d(o)}}}function Ou(t,e,n){let{clickUrl:r="https://www.faz.net"}=e,{clickText:i=""}=e,{mode:a="faznet"}=e,{dataUrl:o=""}=e;function s(){window.location.href=r}return t.$$set=u=>{"clickUrl"in u&&n(4,r=u.clickUrl),"clickText"in u&&n(0,i=u.clickText),"mode"in u&&n(1,a=u.mode),"dataUrl"in u&&n(2,o=u.dataUrl)},[i,a,o,s,r]}class qu extends dt{constructor(e){super(),ht(this,e,Ou,Uu,ft,{clickUrl:4,clickText:0,mode:1,dataUrl:2})}}function Vu(t){let e,n;return e=new Dr({props:{dataUrl:Ye,appHeadline:"Verkehr und Luftqualität in Frankfurt",mode:t[0]}}),{c(){V(e.$$.fragment)},m(r,i){O(e,r,i),n=!0},p:at,i(r){n||(D(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function Xu(t){let e,n,r,i,a,o,s,u,l,c,f,h,d,g,_,y,k,M=t[0]=="faznet"&&Vu(t);return a=new Fu({props:{dataConfig:t[2],chartHeadline:"Passanten",chartIcon:"pedestrians.svg",chartInfoHeadline:Qu,chartInfoText:Ku}}),u=new Hu({props:{dataConfig:t[1],chartHeadline:"Radverkehr",chartIcon:"biketraffic.svg",chartInfoHeadline:Zu,chartInfoText:Gu}}),f=new Du({props:{dataConfig:t[3],chartHeadline:"Autoverkehr",chartIcon:"cartraffic.svg",chartInfoHeadline:Ju,chartInfoText:Wu}}),g=new si({props:{chartdataUrl:Ye,chartHeadline:"Luftqualität",chartIcon:"airquality.svg",chartInfoHeadline:$u,chartInfoText:Yu}}),y=new qu({props:{dataUrl:Ye,clickUrl:"https://www.faz.net/1.9846546",clickText:"Mehr lesen",mode:t[0]}}),{c(){e=b("main"),M&&M.c(),n=H(),r=b("div"),i=b("div"),V(a.$$.fragment),o=H(),s=b("div"),V(u.$$.fragment),l=H(),c=b("div"),V(f.$$.fragment),h=H(),d=b("div"),V(g.$$.fragment),_=H(),V(y.$$.fragment),C(i,"class","vizbox"),C(s,"class","vizbox"),C(c,"class","vizbox"),C(d,"class","vizbox"),C(r,"class","vizcontainer")},m(v,z){N(v,e,z),M&&M.m(e,null),w(e,n),w(e,r),w(r,i),O(a,i,null),w(r,o),w(r,s),O(u,s,null),w(r,l),w(r,c),O(f,c,null),w(r,h),w(r,d),O(g,d,null),w(r,_),O(y,r,null),k=!0},p(v,[z]){v[0]=="faznet"&&M.p(v,z)},i(v){k||(D(M),D(a.$$.fragment,v),D(u.$$.fragment,v),D(f.$$.fragment,v),D(g.$$.fragment,v),D(y.$$.fragment,v),k=!0)},o(v){L(M),L(a.$$.fragment,v),L(u.$$.fragment,v),L(f.$$.fragment,v),L(g.$$.fragment,v),L(y.$$.fragment,v),k=!1},d(v){v&&S(e),M&&M.d(),q(a),q(u),q(f),q(g),q(y)}}}const Ye="https://cdn.faz-azure.com/multimediaredaktion/RM_Dashboard/luftindex.json?sv=2020-10-02&st=2022-07-07T19%3A02%3A35Z&se=2222-07-08T19%3A02%3A00Z&sr=c&sp=r&sig=nrn9mbdYgd9tqIUMSSZ7P8RIaG1z%2BOBPyqC%2FTwRf7u0%3D",$u="Luftqualitätsindex",Yu="Der Index basiert auf der gesundheitlichen Bewertung von Ozon- und NO<sub>2</sub>- Stundenmittelwerten und stündlich gleitenden PM<sub>10</sub>- und PM<sub>2,5</sub>-Tagesmittelwerten. Für jeden Messwert haben wir den Durchschnitt der vier Stationen in Frankfurt berechnet. Die aktuellsten, stündlichen Schadstoffwerte der Stationen haben wir anhand der Schwellenwerte des Umweltbundesamtes kategorisiert. Der Schadstoff, der die schlechteste Luftqualität aufweist, bestimmt die Indexkategorie und -farbe. Die Verhaltensempfehlungen stammen ebenfalls vom Umweltbundesamt.",Zu="Radverkehr",Gu="Hessen Mobil betreut als obere Landesbehörde das übergeordnete Straßennetz in Hessen und erhebt mit Dauerzählstellen Daten zum Radverkehr im ganzen Bundesland. In Frankfurt gibt es zehn solcher Zählstellen: an der Bockenheimer Landstraße (beidseitig), zweimal an der Friedberger Landstraße (jeweils beidseitig), am südlichen Mainkai/Schaumainkai (zwei Zählstellen) und am Niddaradweg. Der aktuellste Gesamtwert wird mit dem Gesamtwert des gleichen Wochentages im letzten Jahr verglichen. ",Ju="Autoverkehr",Wu="Die Fahrzeiten basieren auf von TomTom erhobenen Floating Car Daten (FCD). Die Navigationsgeräte, In-Dash-Systeme und Apps senden in Echtzeit anonymisierte FCD-Daten an die Server, aus denen die Verkehrsinformationen abgeleitet werden. TomTom berechnet daraus unter anderem, wie viel Zeit Autofahrer für eine 10 Kilometer lange Strecke benötigen.",Qu="Passanten",Ku="Die Passantendaten werden von hystreet.com zur Verfügung gestellt. Mit Laserscannern wird rund um die Uhr die Anzahl der Menschen gemessen, die diese Zählstellen passieren. In Frankfurt gibt es acht solcher Zählstellen: auf der Zeil, der Berger Straße, der Goethestraße, der Großen Bockenheimer Straße, der Königsteiner Straße, der Leipziger Straße, der Schweizer Straße und am Römerberg. Der aktuellste Gesamtwert wird mit dem Durchschnittswert des jeweiligen Wochentages in den letzten 365 Tagen verglichen.";function ju(t,e,n){let{target:r}=e;const i=r.dataset.outputmode,a={chartdataUrl:"https://cdn.faz-azure.com/multimediaredaktion/RM_Dashboard/bikes_woche.json?sv=2020-10-02&st=2022-07-07T19%3A02%3A35Z&se=2222-07-08T19%3A02%3A00Z&sr=c&sp=r&sig=nrn9mbdYgd9tqIUMSSZ7P8RIaG1z%2BOBPyqC%2FTwRf7u0%3D",chartdataKeys:[0,2,4],chartdataLegend:"Vorjahreswert"},o={chartdataUrl:"https://cdn.faz-azure.com/multimediaredaktion/RM_Dashboard/pedestrians_widget.json?sv=2020-10-02&st=2022-07-07T19%3A02%3A35Z&se=2222-07-08T19%3A02%3A00Z&sr=c&sp=r&sig=nrn9mbdYgd9tqIUMSSZ7P8RIaG1z%2BOBPyqC%2FTwRf7u0%3D",chartdataKeys:[0,1,2],chartdataLegend:"Jahresdurchschnittswert"},s={chartdataUrl:"https://cdn.faz-azure.com/multimediaredaktion/RM_Dashboard/traffic_today.json?sv=2020-10-02&st=2022-07-07T19%3A02%3A35Z&se=2222-07-08T19%3A02%3A00Z&sr=c&sp=r&sig=nrn9mbdYgd9tqIUMSSZ7P8RIaG1z%2BOBPyqC%2FTwRf7u0%3D",chartdataKeys:[0,3,4],chartdataLegend:"Jahresdurchschnittswert"};return t.$$set=u=>{"target"in u&&n(4,r=u.target)},[i,a,o,s,r]}class tl extends dt{constructor(e){super(),ht(this,e,ju,Xu,ft,{target:4})}}const el="0.0.1",Ze=document.getElementById("appRheinMain");Ze.setAttribute("data-version",el);new tl({target:Ze,props:{target:Ze}});
